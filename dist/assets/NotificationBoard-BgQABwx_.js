import{c as C,r as c,j as e,m as F}from"./index-B_kjqxqP.js";import{X as k,u as S,M as A}from"./Card-wIzGCNSu.js";import{N as E}from"./NotificationCard-BPSxdROC.js";import{B as x}from"./Button-Dwa1UsuP.js";import{I as M}from"./Input-aZjQaUej.js";import{S as g}from"./Select-DB7_T4-b.js";import"./ThemeToggle-DxtfPcVw.js";import"./cn-BNf5BS2b.js";import"./home-CIpEbKz-.js";import"./formatters-CWHgbahH.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=C("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),w=({onFilter:r})=>{const[i,s]=c.useState({}),[n,d]=c.useState(!1),m=[{value:"",label:"All Categories"},{value:"general",label:"General"},{value:"emergency",label:"Emergency"},{value:"mess",label:"Mess"},{value:"maintenance",label:"Maintenance"},{value:"events",label:"Events"}],o=[{value:"",label:"All Priorities"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],p=[{value:"",label:"All Notifications"},{value:"true",label:"Read"},{value:"false",label:"Unread"}],h=t=>{s(a=>({...a,search:t.target.value}))},u=t=>{s(a=>({...a,category:t}))},l=t=>{s(a=>({...a,priority:t}))},b=t=>{s(t==="true"?a=>({...a,read:!0}):t==="false"?a=>({...a,read:!1}):a=>{const f={...a};return delete f.read,f})},v=()=>{r(i)},j=()=>{s({}),r({})},y=()=>{d(t=>!t)},N=Object.keys(i).length>0;return e.jsxs("div",{className:"bg-card rounded-lg border border-border p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Filters"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{variant:"ghost",size:"sm",onClick:y,leftIcon:e.jsx(L,{size:16}),children:n?"Collapse":"Expand"}),N&&e.jsx(x,{variant:"outline",size:"sm",onClick:j,leftIcon:e.jsx(k,{size:16}),children:"Clear"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(M,{placeholder:"Search notifications...",value:i.search||"",onChange:h}),n&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsx(g,{options:m,value:i.category||"",onChange:u,label:"Category"}),e.jsx(g,{options:o,value:i.priority||"",onChange:l,label:"Priority"}),e.jsx(g,{options:p,value:i.read===void 0?"":String(i.read),onChange:b,label:"Status"})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(x,{variant:"primary",onClick:v,children:"Apply Filters"})})]})]})},X=()=>{const{notifications:r,readNotifications:i,fetchNotifications:s,markAsRead:n,isLoading:d,hasMoreToLoad:m}=S(),[o,p]=c.useState({});c.useEffect(()=>{s(o)},[s,o]);const h=async l=>{await n(l)},u=l=>{p(l)};return e.jsxs(A,{title:"Notification Board",children:[e.jsx(w,{onFilter:u}),e.jsx("div",{className:"space-y-6",children:d?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-primary border-r-transparent"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading notifications..."})]}):r.length===0?e.jsx(F.div,{className:"text-center py-12 bg-card rounded-lg border border-border",initial:{opacity:0},animate:{opacity:1},children:e.jsx("p",{className:"text-muted-foreground",children:"No notifications found"})}):e.jsxs("div",{className:"space-y-4",children:[r.map(l=>e.jsx(E,{notification:l,readNotifications:i,onMarkAsRead:h},l.id)),m&&e.jsx("div",{className:"text-center py-4",children:e.jsx("button",{className:"btn btn-ghost",onClick:()=>{},children:"Load More"})})]})})]})};export{X as default};
